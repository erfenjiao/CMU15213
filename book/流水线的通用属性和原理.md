# 未流水化的电路设计
在现代逻辑电路的设计中，电路的延迟用皮秒来表示。信号从输入端经过组合逻辑电路到达输出端,中间会经过一系列的逻辑门，经过一段时间的延迟后，得到输出结果。
在非流水化的实现中，开始下一条指令之前必须完成上一条指令的执行。因此，指令的执行不存在相互重叠的情况。
为了评估上述系统的执行效率引入吞吐量的概念。
假如一条执行执行需要３２０ps，１Ｓ可执行指令 3.12*10`9 条指令　，　１Ｇ　＝　１＊１０｀９，则吞吐量为３．１２ＧＩＰＳ.
寄存器：：在电路设计中，时钟寄存器直接将它的输入和输出连接到电路中
流水线缺陷：对一个设计者来讲，将一个整体的设计划分为多个延迟都相等子阶段是一个严峻的挑战
流水线的另为一个局限性，虽然增加流水线的阶段数，可以提升系统的吞吐量。，但过深的流水线同样会导致系统性能下降
【数据相关】数据依赖、控制依赖
----
[复习]Y86 的顺序实现
１）取值阶段，将程序计数器ＰＣ的值作为地址，从指令内存中读取字节，其中，第一个字节被分成两部分，分别为指令代码icode和指令功能ifun，取出的指令字节中可能含有一个寄存器指示符字节，指明一个或者两个寄存器指示符（rA , rB），还可能含有一个四字节的常数，ＰＣ增加器用来计算下一条指令的地址，ｖａｌＰ的值等于ＰＣ加上当前已经取出来的指令长度
２）译码，寄存器文件有两个读端口A和B，一次译码操作可以同时读出两个寄存器的值，寄存器文件的读出端口与算术逻辑单元的输入相连。
３）在执行阶段，ＡＬＵ会根据指令功能来执行指定的运算，从而得到运算结果，同时还会设置条件码寄存器（ＣＣ），对于跳转指令，在执行阶段会根据条件码和跳转条件来产生信号Ｃｎｄ。（强调：ＡＬＵ除了执行算数逻辑指令，还要计算访存的有效地址，以及针对栈指针的与运算，因此，ＡＬＵ的输出端口会与数据内存的地址逻辑单元相连）
４）访存阶段，可以将数据写入内存，或者从内存中读取数据，写入的数据可以有寄存器文件提供，也可以是指玲子姐中的常数字段。
５）写回，寄存器文件有两个写入端口 M,E ，端口Ｅ与ＡＬＵ的输出端口相连，ＡＬＵ的计算结果可以通过端口Ｅ写回到寄存器文件中，端口Ｍ与数据内存的输出端口相连，从内存中读出的数据可以通过端口Ｍ协会到寄存器文件中
６）更新ＰＣ的值
总结：对于当前的顺序结构，所有操作都要在一个时钟周期内完成，例如，取值阶段发生在时钟周期刚开始的时候，那么更新ＰＣ发生在时钟周期快要结束的时候。

－－－－－

接下来，调整当前结构状态，使更新ＰＣ在时钟周期开始的时候执行，而不是结束后才执行。。
具体的实现方法是：创建一个寄存器来保存指令在执行的过程中产生的信号。
重定时：只改变状态表示，不改变逻辑状态。

